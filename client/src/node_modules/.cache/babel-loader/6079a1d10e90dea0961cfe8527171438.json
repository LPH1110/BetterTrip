{"ast":null,"code":"var _jsxFileName = \"D:\\\\BetterTrip-main\\\\client\\\\src\\\\pages\\\\Signup\\\\Signup.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { ErrorMessage, Field, Form, Formik } from 'formik';\nimport { useRef, useState } from 'react';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport * as Yup from 'yup';\nimport { Image, Toast } from \"../../components\";\nimport images from \"../../assets/images\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Signup() {\n  _s();\n\n  const [showToast, setShowToast] = useState(false);\n  const [toastBody, setToastBody] = useState({\n    message: '',\n    status: ''\n  });\n  const navigate = useNavigate();\n  const authenForm = useRef();\n  const initialValues = {\n    email: '',\n    password: ''\n  };\n  const validationSchema = Yup.object().shape({\n    email: Yup.string().email().required(),\n    password: Yup.string().min(8).required()\n  });\n\n  const handleSubmit = async data => {\n    try {\n      const res = await axios.post('http://localhost:3001/auth/store', data);\n      const {\n        error\n      } = res.data;\n\n      if (!error) {\n        setToastBody({\n          message: 'Created new account successfully!',\n          status: 'success'\n        });\n        setTimeout(() => {\n          navigate('/login');\n        }, 2000);\n      } else {\n        setToastBody({\n          message: error,\n          status: 'error'\n        });\n      }\n\n      setShowToast(true);\n      setTimeout(() => {\n        setShowToast(false);\n      }, 2000);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  const handleErrorMessage = (message, name) => {\n    // const inputElement = authenForm.current.querySelector(`[name='${name}']`);\n    // inputElement.classList.add('ring-pink-600');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-pink-600\",\n      children: message.replace(name, 'This field')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 16\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"flex flex-col items-center justify-center h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(NavLink, {\n      end: true,\n      to: \"/\",\n      className: \"mb-8 p-4 max-w-[20rem]\",\n      children: /*#__PURE__*/_jsxDEV(Image, {\n        src: images.logo,\n        alt: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: initialValues,\n      validationSchema: validationSchema,\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        ref: authenForm,\n        className: \"w-full max-w-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"mb-6 flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            className: \"text-slate-900 font-semibold\",\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Field, {\n            name: \"email\",\n            type: \"email\",\n            className: \"mt-[0.64rem] px-3 py-2 focus:outline-none ring-1 ring-slate-200 focus:ring-2 focus:ring-sky-400 shadow-sm rounded-md\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n            name: \"email\",\n            children: message => handleErrorMessage(message, 'email')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"mb-6 flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            className: \"text-slate-900 font-semibold\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Field, {\n            name: \"password\",\n            type: \"password\",\n            className: \"mt-[0.64rem] px-3 py-2 focus:outline-none ring-1 ring-slate-200 focus:ring-2 focus:ring-sky-400 shadow-sm rounded-md\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n            name: \"password\",\n            children: message => handleErrorMessage(message, 'password')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"inline-flex justify-center items-center w-full px-4 py-3.5 mt-8 font-semibold rounded-lg text-white bg-slate-900 hover:bg-slate-700\",\n          children: \"Create account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"p-4 mt-8\",\n      children: [\"Already have an account?\", ' ', /*#__PURE__*/_jsxDEV(NavLink, {\n        to: \"/login\",\n        className: \"hover:underline hover:underline-offset-4 ml-1 text-sky-500\",\n        children: \"Sign in here!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), showToast && /*#__PURE__*/_jsxDEV(Toast, {\n      message: toastBody.message,\n      status: toastBody.status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 27\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Signup, \"JGsMLI2ZBPMuUp7vdYeZY35eQv8=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["axios","ErrorMessage","Field","Form","Formik","useRef","useState","NavLink","useNavigate","Yup","Image","Toast","images","Signup","showToast","setShowToast","toastBody","setToastBody","message","status","navigate","authenForm","initialValues","email","password","validationSchema","object","shape","string","required","min","handleSubmit","data","res","post","error","setTimeout","e","console","handleErrorMessage","name","replace","logo"],"sources":["D:/BetterTrip-main/client/src/pages/Signup/Signup.js"],"sourcesContent":["import axios from 'axios';\nimport { ErrorMessage, Field, Form, Formik } from 'formik';\nimport { useRef, useState } from 'react';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport * as Yup from 'yup';\nimport { Image, Toast } from '~/components';\nimport images from '~/assets/images';\n\nfunction Signup() {\n    const [showToast, setShowToast] = useState(false);\n    const [toastBody, setToastBody] = useState({\n        message: '',\n        status: '',\n    });\n    const navigate = useNavigate();\n\n    const authenForm = useRef();\n\n    const initialValues = {\n        email: '',\n        password: '',\n    };\n\n    const validationSchema = Yup.object().shape({\n        email: Yup.string().email().required(),\n        password: Yup.string().min(8).required(),\n    });\n\n    const handleSubmit = async (data) => {\n        try {\n            const res = await axios.post('http://localhost:3001/auth/store', data);\n            const { error } = res.data;\n\n            if (!error) {\n                setToastBody({ message: 'Created new account successfully!', status: 'success' });\n                setTimeout(() => {\n                    navigate('/login');\n                }, 2000);\n            } else {\n                setToastBody({ message: error, status: 'error' });\n            }\n\n            setShowToast(true);\n            setTimeout(() => {\n                setShowToast(false);\n            }, 2000);\n        } catch (e) {\n            console.error(e);\n        }\n    };\n\n    const handleErrorMessage = (message, name) => {\n        // const inputElement = authenForm.current.querySelector(`[name='${name}']`);\n        // inputElement.classList.add('ring-pink-600');\n        return <div className=\"text-pink-600\">{message.replace(name, 'This field')}</div>;\n    };\n\n    return (\n        <section className=\"flex flex-col items-center justify-center h-screen\">\n            <NavLink end to=\"/\" className=\"mb-8 p-4 max-w-[20rem]\">\n                <Image src={images.logo} alt=\"logo\" />\n            </NavLink>\n            <Formik initialValues={initialValues} validationSchema={validationSchema} onSubmit={handleSubmit}>\n                <Form ref={authenForm} className=\"w-full max-w-lg\">\n                    <section className=\"mb-6 flex flex-col\">\n                        <label htmlFor=\"email\" className=\"text-slate-900 font-semibold\">\n                            Email address\n                        </label>\n                        <Field\n                            name=\"email\"\n                            type=\"email\"\n                            className=\"mt-[0.64rem] px-3 py-2 focus:outline-none ring-1 ring-slate-200 focus:ring-2 focus:ring-sky-400 shadow-sm rounded-md\"\n                        />\n                        <ErrorMessage name=\"email\">{(message) => handleErrorMessage(message, 'email')}</ErrorMessage>\n                    </section>\n                    <section className=\"mb-6 flex flex-col\">\n                        <label htmlFor=\"password\" className=\"text-slate-900 font-semibold\">\n                            Password\n                        </label>\n                        <Field\n                            name=\"password\"\n                            type=\"password\"\n                            className=\"mt-[0.64rem] px-3 py-2 focus:outline-none ring-1 ring-slate-200 focus:ring-2 focus:ring-sky-400 shadow-sm rounded-md\"\n                        />\n                        <ErrorMessage name=\"password\">\n                            {(message) => handleErrorMessage(message, 'password')}\n                        </ErrorMessage>\n                    </section>\n                    <button\n                        type=\"submit\"\n                        className=\"inline-flex justify-center items-center w-full px-4 py-3.5 mt-8 font-semibold rounded-lg text-white bg-slate-900 hover:bg-slate-700\"\n                    >\n                        Create account\n                    </button>\n                </Form>\n            </Formik>\n            <p className=\"p-4 mt-8\">\n                Already have an account?{' '}\n                <NavLink to=\"/login\" className=\"hover:underline hover:underline-offset-4 ml-1 text-sky-500\">\n                    Sign in here!\n                </NavLink>\n            </p>\n            {showToast && <Toast message={toastBody.message} status={toastBody.status} />}\n        </section>\n    );\n}\n\nexport default Signup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}