{"ast":null,"code":"var _jsxFileName = \"D:\\\\BetterTrip-main\\\\client\\\\src\\\\layouts\\\\DefaultLayout\\\\DefaultLayout.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useEffect, useRef } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classNames from 'classnames/bind';\nimport images from \"../../assets/images\";\nimport { actions, useStore } from \"../../store\";\nimport { AuthenBar, UserBar } from \"./subComponents\";\nimport { Image } from \"../../components\";\nimport { Footer } from \"../components\";\nimport styles from \"./DefaultLayout.module.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cx = classNames.bind(styles);\nconst navItems = [{\n  id: 0,\n  title: 'Home',\n  path: '/'\n}, {\n  id: 1,\n  title: 'Flight',\n  path: '/flight'\n}, {\n  id: 2,\n  title: 'Train Ticket',\n  path: '/train-ticket'\n}, {\n  id: 3,\n  title: 'Hotels',\n  path: '/hotels'\n}];\n\nfunction DefaultLayout(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useStore();\n  const {\n    loggedIn\n  } = state;\n  const header = useRef();\n  useEffect(() => {\n    const authenticate = async () => {\n      try {\n        const res = await axios.get('http://localhost:3001/auth/validate', {\n          headers: {\n            accessToken: localStorage.getItem('accessToken')\n          }\n        });\n        const {\n          error\n        } = res.data;\n\n        if (!error) {\n          dispatch(actions.setUserSession(res.data, true));\n        }\n      } catch (e) {\n        console.error(\"Can't authenticate user\");\n      }\n    };\n\n    authenticate();\n  }, []);\n  const activeStyle = {\n    color: 'rgb(14 165 233)'\n  }; //border-b boder-slate-200\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      ref: header,\n      className: \"bg-white justify-between transition-[border] ease-in-out duration-300 w-full border-b border-slate-200 inset-0 flex items-center h-[6.4rem] fixed z-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex flex-1 h-full px-[3.2rem] justify-start items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(NavLink, {\n          onClick: () => {\n            window.scrollTo({\n              top: 0,\n              left: 0,\n              behavior: 'smooth'\n            });\n          },\n          end: true,\n          to: \"/\",\n          className: \"mr-3 py-3 flex-none w-52 h-full flex items-center\",\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            className: cx('header_logo'),\n            src: images.logo,\n            alt: \"logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), navItems.map(item => {\n          return item.path === '/' ? /*#__PURE__*/_jsxDEV(NavLink, {\n            end: true,\n            to: item.path,\n            style: _ref2 => {\n              let {\n                isActive\n              } = _ref2;\n              return isActive ? activeStyle : undefined;\n            },\n            className: 'ease-in-out duration-200 px-3 py-2 text-slate-700 rounded-lg hover:text-slate-500',\n            children: item.title\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(NavLink, {\n            to: item.path,\n            style: _ref3 => {\n              let {\n                isActive\n              } = _ref3;\n              return isActive ? activeStyle : undefined;\n            },\n            className: 'ease-in-out duration-200 px-3 py-2 text-slate-700 rounded-lg hover:text-slate-500',\n            children: item.title\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex flex-1 h-full pr-[3.2rem] justify-end items-center space-x-4\",\n        children: loggedIn ? /*#__PURE__*/_jsxDEV(UserBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(AuthenBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 47\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"content w-screen mt-[6.4rem]\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n}\n\n_s(DefaultLayout, \"IpyaJIeQsGlgDd9ecpX83h3rwcw=\", false, function () {\n  return [useStore];\n});\n\n_c = DefaultLayout;\nexport default DefaultLayout;\n\nvar _c;\n\n$RefreshReg$(_c, \"DefaultLayout\");","map":{"version":3,"names":["axios","useEffect","useRef","NavLink","classNames","images","actions","useStore","AuthenBar","UserBar","Image","Footer","styles","cx","bind","navItems","id","title","path","DefaultLayout","children","state","dispatch","loggedIn","header","authenticate","res","get","headers","accessToken","localStorage","getItem","error","data","setUserSession","e","console","activeStyle","color","window","scrollTo","top","left","behavior","logo","map","item","isActive","undefined"],"sources":["D:/BetterTrip-main/client/src/layouts/DefaultLayout/DefaultLayout.js"],"sourcesContent":["import axios from 'axios';\nimport { useEffect, useRef } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classNames from 'classnames/bind';\nimport images from '~/assets/images';\nimport { actions, useStore } from '~/store';\nimport { AuthenBar, UserBar } from './subComponents';\nimport { Image } from '~/components';\nimport { Footer } from '../components';\nimport styles from './DefaultLayout.module.scss';\n\nconst cx = classNames.bind(styles);\n\nconst navItems = [\n    { id: 0, title: 'Home', path: '/' },\n    { id: 1, title: 'Flight', path: '/flight' },\n    { id: 2, title: 'Train Ticket', path: '/train-ticket' },\n    { id: 3, title: 'Hotels', path: '/hotels' },\n];\n\nfunction DefaultLayout({ children }) {\n    const [state, dispatch] = useStore();\n    const { loggedIn } = state;\n    const header = useRef();\n\n    useEffect(() => {\n        const authenticate = async () => {\n            try {\n                const res = await axios.get('http://localhost:3001/auth/validate', {\n                    headers: {\n                        accessToken: localStorage.getItem('accessToken'),\n                    },\n                });\n                const { error } = res.data;\n                if (!error) {\n                    dispatch(actions.setUserSession(res.data, true));\n                }\n            } catch (e) {\n                console.error(\"Can't authenticate user\");\n            }\n        };\n\n        authenticate();\n    }, []);\n\n    const activeStyle = {\n        color: 'rgb(14 165 233)',\n    };\n\n    //border-b boder-slate-200\n    return (\n        <section className=\"wrapper\">\n            <header\n                ref={header}\n                className=\"bg-white justify-between transition-[border] ease-in-out duration-300 w-full border-b border-slate-200 inset-0 flex items-center h-[6.4rem] fixed z-10\"\n            >\n                <nav className=\"flex flex-1 h-full px-[3.2rem] justify-start items-center space-x-4\">\n                    <NavLink\n                        onClick={() => {\n                            window.scrollTo({\n                                top: 0,\n                                left: 0,\n                                behavior: 'smooth',\n                            });\n                        }}\n                        end\n                        to=\"/\"\n                        className=\"mr-3 py-3 flex-none w-52 h-full flex items-center\"\n                    >\n                        <Image className={cx('header_logo')} src={images.logo} alt=\"logo\" />\n                    </NavLink>\n                    {navItems.map((item) => {\n                        return item.path === '/' ? (\n                            <NavLink\n                                end\n                                key={item.id}\n                                to={item.path}\n                                style={({ isActive }) => (isActive ? activeStyle : undefined)}\n                                className={\n                                    'ease-in-out duration-200 px-3 py-2 text-slate-700 rounded-lg hover:text-slate-500'\n                                }\n                            >\n                                {item.title}\n                            </NavLink>\n                        ) : (\n                            <NavLink\n                                key={item.id}\n                                to={item.path}\n                                style={({ isActive }) => (isActive ? activeStyle : undefined)}\n                                className={\n                                    'ease-in-out duration-200 px-3 py-2 text-slate-700 rounded-lg hover:text-slate-500'\n                                }\n                            >\n                                {item.title}\n                            </NavLink>\n                        );\n                    })}\n                </nav>\n\n                <nav className=\"flex flex-1 h-full pr-[3.2rem] justify-end items-center space-x-4\">\n                    {loggedIn ? <UserBar /> : <AuthenBar />}\n                </nav>\n            </header>\n            <section className=\"content w-screen mt-[6.4rem]\">{children}</section>\n            <Footer />\n        </section>\n    );\n}\n\nexport default DefaultLayout;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}